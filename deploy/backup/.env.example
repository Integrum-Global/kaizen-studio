# Backup Configuration for Kaizen Studio PostgreSQL
# Copy this file to project root .env or set as environment variables

# ==============================================================================
# DATABASE CONNECTION
# ==============================================================================

# PostgreSQL host (localhost for Docker Compose, service name for Kubernetes)
POSTGRES_HOST=localhost

# PostgreSQL port
POSTGRES_PORT=5432

# Database name
POSTGRES_DB=kaizen_studio_dev

# Database user
POSTGRES_USER=kaizen_user

# Database password (NEVER commit to git!)
POSTGRES_PASSWORD=change_this_to_a_secure_password

# ==============================================================================
# BACKUP CONFIGURATION
# ==============================================================================

# Backup directory (optional, defaults to deploy/backup/backups)
BACKUP_DIR=/path/to/backups

# Retention policy - delete backups older than N days (0 = disable)
BACKUP_RETENTION_DAYS=30

# Retention policy - keep last N backups (0 = disable)
BACKUP_RETENTION_COUNT=10

# ==============================================================================
# NOTIFICATIONS (OPTIONAL)
# ==============================================================================

# Slack webhook URL for backup notifications
# Get from: https://api.slack.com/messaging/webhooks
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Email recipient for backup notifications
# Requires 'mail' command installed
BACKUP_EMAIL_RECIPIENT=admin@example.com

# ==============================================================================
# CLOUD STORAGE (OPTIONAL)
# ==============================================================================

# AWS S3 Backup Bucket
S3_BACKUP_BUCKET=kaizen-studio-backups

# AWS Region
AWS_DEFAULT_REGION=us-east-1

# AWS Credentials (use IAM roles in production)
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key

# Google Cloud Storage Backup Bucket
GCS_BACKUP_BUCKET=kaizen-studio-backups

# ==============================================================================
# ENVIRONMENT
# ==============================================================================

# Environment name (development, staging, production)
# Used for safety checks during restore
ENVIRONMENT=development

# ==============================================================================
# NOTES
# ==============================================================================

# 1. SECURITY: Never commit .env files with real credentials to version control
# 2. PRODUCTION: Use secrets management (Vault, AWS Secrets Manager, etc.)
# 3. ROTATION: Rotate database passwords regularly
# 4. IAM ROLES: Prefer IAM roles over static credentials for cloud storage
# 5. TESTING: Test backups and restores regularly
